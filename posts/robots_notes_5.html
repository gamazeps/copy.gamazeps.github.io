<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>gama's ramblings - Notes 5</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/syntax.css" />
        <link rel="stylesheet" href="../css/code.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">gama's ramblings</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Notes 5</h1>
            <div class="info">
    Posted on January 27, 2016
    
        by Felix Raimundo
    
</div>

<p>Tonight we will get some things done !</p>
<p>First the logging, needs to be correct.</p>
<h1 id="logging">Logging</h1>
<p>On the advices of people on #rust, I chose to use the <code>log</code> and <code>env_logger</code> crates, the first one allows to have simple logging, the second one allows to print the logs.</p>
<p>Overall it is extremely straightforward to include in the code :)</p>
<h1 id="debugging-the-race-condition">Debugging the race condition</h1>
<p>Activating the logging makes my actor system work, not activating it makes my actor system be stuck. If i had any doubts about a race condition, now I don’t anymore.</p>
<p>The funny thing is that using simple println! instead of info! does not make my system work, this might be a bit tricky to solve… Doing the logging was a good idea it seems.</p>
<p>Ok… changing all the println! into info! makes the race condition go away (meaning the system works, the source of the issue is not identified yet).</p>
<p>Ok… The system not working is not reproducible (I mean, not every single time), this is pretty bad.</p>
<p>It seems that the issue is solved by waiting before exiting the main, this might mean that the initialization of the system is much slower than before. I have not been able to re reproduce the problem once I waited longer before xiting my main, thus the explanation might simply be that the reason why my actors did not print “hello world” is simply that it did not have enough time to do so.</p>
<p>I’m updating the code in the tests to use the new futures and I’ll see if this still happens.</p>

        </div>

        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
