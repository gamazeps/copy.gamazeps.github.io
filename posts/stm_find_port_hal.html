<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>gama's ramblings - Finding the hal configurations for your board</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/syntax.css" />
        <link rel="stylesheet" href="../css/code.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">gama's ramblings</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Finding the hal configurations for your board</h1>
            <div class="info">
    Posted on July  4, 2016
    
        by Felix Raimundo
    
</div>

<p>In many articles I refer to the configuration structures used in the HAL for the stm32f407 microcontroller, but there are many more microcontrollers in the world and you may have another one, thus I am going to tell you how to find the configuration for your board.</p>
<p>First go to your folder containing ChibiOS/RT’s sources, then do</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> os/hal/ports</code></pre></div>
<p>You can find the various ports there:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">➜  <span class="ex">ports</span> git:(master) ✗ <span class="fu">ls</span>
<span class="ex">AVR</span>  common  KINETIS  LPC  simulator  STM32
➜  <span class="ex">ports</span> git:(master) ✗ <span class="fu">ls</span> AVR  # show AVR<span class="st">'s port headers</span>
<span class="st">adc_lld.c  avr_pins.h    gpt_lld.c  hal_lld.c  i2c_lld.c  icu_lld.c  pal_lld.c  platform.mk</span>
<span class="st">pwm_lld.h     serial_lld.h  spi_lld.h  st_lld.h</span>
<span class="st">adc_lld.h  avr_timers.h  gpt_lld.h  hal_lld.h  i2c_lld.h  icu_lld.h  pal_lld.h  pwm_lld.c</span>
<span class="st">serial_lld.c  spi_lld.c     st_lld.c</span>
<span class="st">➜  ports git:(master) ✗ ls STM32 # show STM32 port headers</span>
<span class="st">LLD  STM32F0xx  STM32F1xx  STM32F37x  STM32F3xx  STM32F4xx  STM32F7xx  STM32L0xx  STM32L1xx</span>
<span class="st">STM32L4xx</span></code></pre></div>
<p>For example if we wanted to see the PWM headers for stm32f407 we would look at:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">➜  <span class="ex">ports</span> git:(master) ✗ <span class="fu">ls</span> STM32/LLD/TIMv1 
<span class="ex">gpt_lld.c</span>  gpt_lld.h  icu_lld.c  icu_lld.h  pwm_lld.c  pwm_lld.h  st_lld.c  st_lld.h  stm32_tim.c
<span class="ex">stm32_tim.h</span>  tim_irq_mapping.txt</code></pre></div>
<p>Note that LLD stands for <code>Low Level Driver</code>, here the file that we were looking for is <code>pwm_lld.h</code>.</p>
<p>I hope this helps you find your ports hal headers.</p>

        </div>

				<div id="disqus_thread"></div>
				<script>
				/**
				*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
				*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
				/*
				var disqus_config = function () {
				this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
				this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
				};
				*/
				(function() { // DON'T EDIT BELOW THIS LINE
				var d = document, s = d.createElement('script');
				s.src = 'https://gamazepsgithubio.disqus.com/embed.js';
				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
				})();
				</script>
				<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>

    </body>
</html>
